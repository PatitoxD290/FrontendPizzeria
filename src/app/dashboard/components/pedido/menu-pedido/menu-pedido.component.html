<!-- Buscador -->
<div class="buscador-container">
  <mat-icon>search</mat-icon>
  <input type="text" placeholder="Buscar por nombre, categor√≠a o descripci√≥n..." [(ngModel)]="terminoBusqueda" (input)="buscarProducto()" />
</div>

<!-- Botones de categor√≠as -->
<div class="categorias-container">
  <button mat-raised-button color="{{ categoriaSeleccionada === null ? 'primary' : '' }}" (click)="filtrarPorCategoria(null)">
    Todos
  </button>
  <button *ngFor="let cat of categorias" mat-raised-button [color]="categoriaSeleccionada === cat.ID_Categoria_P ? 'primary' : ''" (click)="filtrarPorCategoria(cat.ID_Categoria_P)">
    {{ cat.Nombre }}
  </button>
</div>

<!-- üîπ LISTA DE PRODUCTOS-TAMA√ëO (Cada card representa un ProductoTamano individual) -->
<div class="menu-scroll">
  <mat-card *ngFor="let pt of paginatedProductos" 
            class="producto-card"
            (click)="abrirModalCantidad(pt)"> <!-- üîπ Cambiado a abrirModalCantidad -->
    
    <mat-card-header>
      <mat-card-title>{{ pt.nombre_producto }}</mat-card-title>
      <mat-card-subtitle>
        <span class="categoria">{{ pt.nombre_categoria }}</span>
        <span class="tamano">‚Ä¢ {{ pt.nombre_tamano || 'Tama√±o' }}</span>
      </mat-card-subtitle>
    </mat-card-header>
    
    <mat-card-content>
      <p class="descripcion">{{ pt.descripcion_producto }}</p>
      
      <!-- üîπ PRECIO DEL TAMA√ëO ESPEC√çFICO -->
      <div class="precio-container">
        <span class="precio">S/ {{ pt.Precio | number:'1.2-2' }}</span>
      </div>

      <!-- üîπ Informaci√≥n adicional del producto -->
      <div class="info-adicional">
        <small>Disponible ‚Ä¢ {{ pt.producto?.Cantidad_Disponible || 0 }} unidades</small>
      </div>

    </mat-card-content>
  </mat-card>
</div>

<!-- üîπ Paginador Angular Material -->
<mat-paginator 
  [length]="productosFiltrados.length" 
  [pageSize]="pageSize" 
  [pageSizeOptions]="[3, 6, 9, 12]" 
  (page)="onPageChange($event)">
</mat-paginator>