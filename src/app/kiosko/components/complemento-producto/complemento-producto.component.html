<div class="complemento-container">
  <!-- ENCABEZADO -->
  <div class="complemento-header">
    <div class="header-title">
      <h2>Bebidas y Complementos</h2>
      <p class="subtitle">Selecciona las bebidas para este combo</p>
    </div>
    <button mat-icon-button (click)="cerrar()" class="btn-cerrar">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- ‚úÖ INDICADOR DE SELECCI√ìN -->
  <div *ngIf="complementoService.obtenerCantidadComplementos() > 0" class="seleccion-indicador mat-elevation-z2">
    <mat-icon>check_circle</mat-icon>
    <span>{{ complementoService.obtenerCantidadComplementos() }} producto(s) seleccionado(s)</span>
  </div>

  <!-- üåÄ LOADING -->
  <div *ngIf="cargando" class="loading-container">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Cargando bebidas...</p>
  </div>

  <!-- üì¶ GRID DE PRODUCTOS -->
  <div class="productos-tamano-grid" *ngIf="!cargando && productosTamanoBebidas.length > 0">
    <div 
      *ngFor="let item of productosTamanoBebidas" 
      class="producto-tamano-card mat-elevation-z1"
      [class.seleccionada]="estaSeleccionado(item)"
      (click)="toggleProductoTamano(item)">
      
      <div class="producto-tamano-imagen-container">
        <img [src]="item.imagen" 
             (error)="onImageError($event)" 
             [alt]="item.Nombre" 
             class="producto-tamano-imagen" />
        
        <!-- Overlay de Selecci√≥n -->
        <div class="seleccion-overlay" *ngIf="estaSeleccionado(item)">
          <mat-icon>check</mat-icon>
        </div>
      </div>
      
      <div class="producto-tamano-info">
        <h4 class="producto-tamano-nombre">{{ item.Nombre }}</h4>
        <p class="producto-tamano-categoria">{{ item.nombre_categoria }}</p>
        
        <div class="producto-tamano-meta">
          <span class="badge-tamano">{{ item.nombre_tamano }}</span>
          <span class="badge-precio">S/. {{ item.Precio | number:'1.2-2' }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ESTADO VAC√çO -->
  <div *ngIf="!cargando && productosTamanoBebidas.length === 0" class="empty-state">
    <mat-icon>no_drinks</mat-icon>
    <p>No hay bebidas disponibles en este momento.</p>
  </div>

  <!-- ‚úÖ BOT√ìN FINALIZAR -->
  <div class="complemento-footer">
    <button mat-raised-button color="primary" class="btn-finalizar" 
            (click)="finalizarSeleccion()" 
            [disabled]="complementoService.obtenerCantidadComplementos() === 0">
      <mat-icon>check</mat-icon>
      Confirmar Selecci√≥n
    </button>
  </div>
</div>