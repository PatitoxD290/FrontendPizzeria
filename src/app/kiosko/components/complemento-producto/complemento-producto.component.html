<div class="complemento-container">
  <!-- ENCABEZADO -->
  <div class="complemento-header">
    <h2>Bebidas Disponibles</h2>
    <button mat-icon-button (click)="cerrar()" class="btn-cerrar">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- âœ… INDICADOR DE SELECCIÃ“N MÃšLTIPLE -->
  <div *ngIf="complementoService.obtenerCantidadComplementos() > 0" class="seleccion-indicador">
    <mat-icon>check_circle</mat-icon>
    <span>{{ complementoService.obtenerCantidadComplementos() }} complemento(s) seleccionado(s)</span>
  </div>

  <!-- ðŸ”¹ CAMBIO: LISTA DE PRODUCTOS_TAMANO INDIVIDUALES -->
  <div class="productos-tamano-grid" *ngIf="!cargando && productosTamanoBebidas.length > 0; else estado">
    <div 
      *ngFor="let productoTamano of productosTamanoBebidas" 
      class="producto-tamano-card"
      [class.seleccionada]="estaSeleccionado(productoTamano)"
      (click)="toggleProductoTamano(productoTamano)">
      
      <div class="producto-tamano-imagen-container">
        <img [src]="productoTamano.imagen" 
             (error)="productoTamano.imagen = '/assets/imgs/logo.png'" 
             [alt]="productoTamano.Nombre" 
             class="producto-tamano-imagen" />
        
        <!-- âœ… INDICADOR VISUAL DE SELECCIÃ“N -->
        <div *ngIf="estaSeleccionado(productoTamano)" class="seleccion-overlay">
          <mat-icon>check</mat-icon>
        </div>
      </div>
      
      <div class="producto-tamano-info">
        <h4 class="producto-tamano-nombre">{{ productoTamano.Nombre }}</h4>
        <p class="producto-tamano-categoria">{{ productoTamano.nombre_categoria }}</p>
        
        <!-- ðŸ”¹ INFORMACIÃ“N DEL TAMAÃ‘O Y PRECIO -->
        <div class="producto-tamano-meta">
          <span class="producto-tamano-tamano">{{ productoTamano.nombre_tamano }}</span>
          <span class="producto-tamano-precio">S/. {{ productoTamano.Precio | number:'1.2-2' }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ESTADOS: CARGANDO O VACÃO -->
  <ng-template #estado>
    <div class="estado-container">
      <div *ngIf="cargando" class="cargando">
        <p>Cargando bebidas...</p>
      </div>
      <div *ngIf="!cargando && productosTamanoBebidas.length === 0" class="sin-bebidas">
        <p>No hay bebidas disponibles</p>
      </div>
    </div>
  </ng-template>

  <!-- âœ… BOTÃ“N PARA FINALIZAR SELECCIÃ“N -->
  <div class="complemento-acciones" *ngIf="complementoService.obtenerCantidadComplementos() > 0">
    <button class="btn-finalizar" (click)="finalizarSeleccion()">
      <mat-icon>check</mat-icon>
      Confirmar {{ complementoService.obtenerCantidadComplementos() }} Complemento(s)
    </button>
  </div>
</div>