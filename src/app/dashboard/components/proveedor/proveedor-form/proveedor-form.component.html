<h2 mat-dialog-title class="d-flex align-items-center">
  <mat-icon class="me-2 text-primary">local_shipping</mat-icon>
  {{ proveedor.ID_Proveedor ? 'Editar Proveedor' : 'Nuevo Proveedor' }}
</h2>

<mat-dialog-content class="dialog-content">
  <form #form="ngForm" (ngSubmit)="saveProveedor()">

    <div class="form-container">
      
      <!-- Fila 1: Nombre y RUC -->
      <div class="row">
        <mat-form-field appearance="outline" class="col-md-8 w-100">
          <mat-label>Nombre / Razón Social *</mat-label>
          <input matInput [(ngModel)]="proveedor.Nombre" name="nombre" required placeholder="Ej: Distribuidora del Norte SAC">
          <mat-icon matSuffix>business</mat-icon>
          <mat-error>Requerido</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="col-md-4 w-100">
          <mat-label>RUC *</mat-label>
          <input matInput [(ngModel)]="proveedor.Ruc" name="ruc" required maxlength="11" minlength="11" placeholder="11 dígitos">
          <mat-hint align="end">{{proveedor.Ruc.length}} / 11</mat-hint>
          <mat-error>Debe ser de 11 dígitos</mat-error>
        </mat-form-field>
      </div>

      <!-- Fila 2: Dirección -->
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Dirección</mat-label>
        <input matInput [(ngModel)]="proveedor.Direccion" name="direccion" placeholder="Av. Principal 123">
        <mat-icon matSuffix>place</mat-icon>
      </mat-form-field>

      <!-- Fila 3: Contacto -->
      <div class="row">
        <mat-form-field appearance="outline" class="col-md-6 w-100">
          <mat-label>Persona de Contacto</mat-label>
          <input matInput [(ngModel)]="proveedor.Persona_Contacto" name="persona" placeholder="Ej: Juan Pérez">
          <mat-icon matSuffix>person</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline" class="col-md-6 w-100">
          <mat-label>Teléfono</mat-label>
          <input matInput [(ngModel)]="proveedor.Telefono" name="telefono" type="tel" placeholder="999 999 999">
          <mat-icon matSuffix>phone</mat-icon>
        </mat-form-field>
      </div>

      <!-- Fila 4: Email y Estado -->
      <div class="row">
        <mat-form-field appearance="outline" class="col-md-8 w-100">
          <mat-label>Email</mat-label>
          <input matInput [(ngModel)]="proveedor.Email" name="email" type="email" placeholder="contacto@empresa.com">
          <mat-icon matSuffix>email</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline" class="col-md-4 w-100">
          <mat-label>Estado</mat-label>
          <mat-select [(ngModel)]="proveedor.Estado" name="estado" required>
            <mat-option value="A">Activo</mat-option>
            <mat-option value="I">Inactivo</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

    </div>

  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button type="button" (click)="close()">Cancelar</button>
  <button mat-flat-button color="primary" (click)="saveProveedor()" 
          [disabled]="!form.valid || guardando">
    <mat-icon *ngIf="!guardando">save</mat-icon>
    <mat-spinner *ngIf="guardando" diameter="20" class="me-2 d-inline-block"></mat-spinner>
    {{ proveedor.ID_Proveedor ? 'Actualizar' : 'Guardar' }}
  </button>
</mat-dialog-actions>