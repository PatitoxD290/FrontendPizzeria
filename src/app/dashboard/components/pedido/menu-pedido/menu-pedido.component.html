<!-- Buscador -->
<div class="buscador-container">
  <mat-icon>search</mat-icon>
  <input type="text" placeholder="Buscar por nombre, categor√≠a o descripci√≥n..." [(ngModel)]="terminoBusqueda" (input)="buscarProducto()" />
</div>

<!-- Botones de categor√≠as -->
<div class="categorias-container">
  <button mat-raised-button color="{{ categoriaSeleccionada === null ? 'primary' : '' }}" (click)="filtrarPorCategoria(null)">
    Todos
  </button>
  <button *ngFor="let cat of categorias" mat-raised-button [color]="categoriaSeleccionada === cat.ID_Categoria_P ? 'primary' : ''" (click)="filtrarPorCategoria(cat.ID_Categoria_P)">
    {{ cat.Nombre }}
  </button>
</div>

<!-- üîπ CAMBIO: LISTA DE PRODUCTOS GENERALES -->
<div class="menu-scroll">
  <mat-card *ngFor="let producto of paginatedProductos" 
            class="producto-card"
            (click)="abrirModalCantidad(producto)">
    
    <mat-card-header>
      <mat-card-title>{{ producto.Nombre }}</mat-card-title>
      <mat-card-subtitle>
        <span class="categoria">{{ producto.nombre_categoria }}</span>
        <!-- üîπ INDICADOR DE TAMA√ëOS DISPONIBLES -->
        <span *ngIf="tieneMultiplesTamanos(producto)" class="multiples-tamanos">‚Ä¢ {{ getTamanosDisponibles(producto) }} tama√±os</span>
        <span *ngIf="!tieneMultiplesTamanos(producto)" class="tamano-unico">‚Ä¢ 1 tama√±o</span>
      </mat-card-subtitle>
    </mat-card-header>
    
    <mat-card-content>
      <p class="descripcion">{{ producto.Descripcion }}</p>
      
      <!-- üîπ PRECIO M√çNIMO -->
      <div class="precio-container">
        <span *ngIf="tieneMultiplesTamanos(producto)" class="precio-desde">Desde: </span>
        <span class="precio">S/ {{ getPrecioMinimo(producto) | number:'1.2-2' }}</span>
      </div>

      <!-- üîπ Informaci√≥n adicional del producto -->
      <div class="info-adicional">
        <small>Disponible ‚Ä¢ {{ producto.Cantidad_Disponible || 0 }} unidades</small>
      </div>

    </mat-card-content>
  </mat-card>
</div>

<!-- üîπ Paginador Angular Material -->
<mat-paginator a
  [length]="productosFiltrados.length" 
  [pageSize]="pageSize" 
  [pageSizeOptions]="[3, 6, 9, 12]" 
  (page)="onPageChange($event)">
</mat-paginator>