<mat-card class="info-card">
  <mat-card-header>
    <mat-card-title>{{ producto.Nombre }}</mat-card-title>
    <mat-card-subtitle *ngIf="primerTamano">
      S/ {{ primerTamano.Precio | number:'1.2-2' }} - {{ primerTamano.nombre_tamano || 'Tama침o 칰nico' }}
    </mat-card-subtitle>
    <mat-card-subtitle *ngIf="!primerTamano" class="text-warn">
      Producto no disponible
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <p>{{ producto.Descripcion }}</p>

    <!-- 游댳 Informaci칩n del tama침o seleccionado autom치ticamente -->
    <div *ngIf="primerTamano" class="tamano-info">
      <strong>Tama침o:</strong> {{ primerTamano.nombre_tamano || 'Tama침o 칰nico' }}
    </div>

    <!-- 游댳 Campo cantidad validado -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Cantidad</mat-label>
      <input
        matInput
        type="text"
        [(ngModel)]="cantidad"
        (input)="validarCantidad($event)"
        inputmode="numeric"
        pattern="[0-9]*"
        minlength="1"
        maxlength="3"
      />
    </mat-form-field>

    <!-- 游댳 Botones de incremento/decremento (opcional) -->
    <div class="cantidad-controls" *ngIf="primerTamano">
      <button mat-mini-button (click)="decrementarCantidad()" [disabled]="cantidad <= 1">
        <mat-icon>remove</mat-icon>
      </button>
      <span class="cantidad-display">{{ cantidad }}</span>
      <button mat-mini-button (click)="incrementarCantidad()">
        <mat-icon>add</mat-icon>
      </button>
    </div>

    <!-- 游댳 Total din치mico -->
    <h3 class="total-text" *ngIf="primerTamano">Total: S/ {{ getPrecioTotal() | number:'1.2-2' }}</h3>
    
    <div *ngIf="!primerTamano" class="error-message">
      Este producto no est치 disponible actualmente.
    </div>
  </mat-card-content>

  <mat-card-actions class="actions">
    <button mat-raised-button color="primary" 
            (click)="agregarAlPedido()"
            [disabled]="!primerTamano || cantidad <= 0">
      Agregar al Pedido
    </button>
    <button mat-raised-button color="warn" (click)="cancelar()">Cancelar</button>
  </mat-card-actions>
</mat-card>